!function(e){e(function(){let t="";e("#new-quote-button").on("click",function(o){o.preventDefault(),t=document.URL,e.ajax({method:"get",url:api_vars.rest_url+"/wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(t){const o=t[0].title.rendered,n=t[0].content.rendered,s=t[0]._qod_quote_source,r=t[0]._qod_quote_source_url;e(".entry-content").html(n),e(".entry-meta .entry-title").html("&mdash; "+o),s&&r?e(".entry-meta .source").html(`, <a href='${r}'>${s}</a>`):s?e(".entry-meta .source").html(`, ${s}`):e(".entry-meta .source").html(""),history.pushState(null,null,t[0].slug)}).fail(function(t){e(".fail-message").html(""),e("article").append('<p class="fail-message">Sorry, somthing went wrong, please try again!</p>')}),e(window).on("popstate",function(){window.location.replace(t)})}),e("#quote-submission-form").on("submit",function(t){t.preventDefault();const o=e("#quote-author").val(),n=e("#quote-content").val(),s=e("#quote-source").val(),r=e("#quote-source-url").val();o&&n?e.ajax({method:"post",url:api_vars.rest_url+"wp/v2/posts",data:{title:o,content:n,status:"pending",_qod_quote_source:s,_qod_quote_source_url:r},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(){e(".entry-header").append('<p class="success-message">Thank you for your submit! <a href=""> Click here </a>to submit another!</p>'),e("#quote-submission-form").slideUp(200)}).fail(function(){e(".fail-message").html(""),e("#quote-submission-form").append('<p class="fail-message">Sorry, somthing went wrong, please try again!</p>')}):(console.log("fill the area"),e(".field-required").html(""),e("#quote-submission-form").append('<p class= "field-required">* Please fill out all the required areas</p>'))})})}(jQuery);